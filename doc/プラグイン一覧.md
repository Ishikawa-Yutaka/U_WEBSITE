# プラグイン一覧

U_WEBプロジェクトで使用するWordPressプラグインの管理ドキュメント

---

## 必須プラグイン

### 1. All-in-One WP Migration

**用途:** サーバー移行・バックアップ

**機能:**
- ワンクリックでサイト全体をエクスポート
- データベース + ファイル + 設定を一括管理
- ローカル ⇔ サーバー間の移行が簡単

**インストール方法:**
```
プラグイン → 新規追加 → 「All-in-One WP Migration」で検索 → インストール → 有効化
```

**使用タイミング:**
- 本番サーバーへの移行時
- 定期的なバックアップ（月1回推奨）
- 開発環境の複製

**エクスポート手順:**
```
All-in-One WP Migration → Export → Export To → File
→ .wpress ファイルがダウンロードされる
→ Google Drive等に保存
```

**インポート手順:**
```
All-in-One WP Migration → Import → ファイルを選択
→ .wpress ファイルをアップロード
→ 完了（自動で上書き）
```

**注意点:**
- 無料版は512MBまで
- エックスサーバーの場合、アップロード制限を事前に解除
- インポート後はログイン情報が上書きされる

---

### 2. Contact Form 7

**用途:** お問い合わせフォーム

**機能:**
- シンプルなお問い合わせフォーム作成
- スパム対策（reCAPTCHA対応）
- メール送信設定のカスタマイズ

**インストール方法:**
```
プラグイン → 新規追加 → 「Contact Form 7」で検索 → インストール → 有効化
```

**デフォルトフォーム:**
- 有効化すると「コンタクトフォーム1」が自動作成される
- お名前、メールアドレス、題名、メッセージ欄を含む基本フォーム

**ショートコード:**
```
[contact-form-7 id="123" title="コンタクトフォーム1"]
```

**設置方法:**
```
1. 左メニュー「お問い合わせ」
2. フォーム一覧からショートコードをコピー
3. 固定ページ作成
   - タイトル: お問い合わせ
   - 本文: ショートコードを貼り付け
   - 公開
```

**カスタマイズ:**
- フォーム項目の追加・削除
- 送信先メールアドレス変更
- 自動返信メール設定
- reCAPTCHA追加（スパム対策）

**メール設定例:**
```
送信先: info@u-web-shimane.com
送信元: wordpress@u-web-shimane.com
題名: [U_WEB] お問い合わせ
```

---

## 推奨プラグイン

### 3. Yoast SEO

**用途:** SEO対策

**機能:**
- メタディスクリプション設定
- タイトルタグ最適化
- XMLサイトマップ自動生成
- SNSシェア設定
- パンくずリスト生成

**インストール方法:**
```
プラグイン → 新規追加 → 「Yoast SEO」で検索 → インストール → 有効化
```

**初期設定:**
```
SEO → 一般 → 設定ウィザード → 次へを連打
（後で個別に設定可能）
```

**使い方:**
- 投稿・固定ページ編集画面の下部にSEO設定欄が表示される
- SEOスコアが色で表示（緑=良好、オレンジ=改善推奨、赤=要改善）

**設定項目:**
- SEOタイトル
- メタディスクリプション
- フォーカスキーフレーズ（ターゲットキーワード）

---

### 4. WP Multibyte Patch

**用途:** 日本語対応の強化

**機能:**
- 日本語の文字数カウント修正
- 全角スペースの適切な処理
- 日本語ファイル名の文字化け防止
- メール送信時の文字化け防止

**インストール方法:**
```
プラグイン → 新規追加 → 「WP Multibyte Patch」で検索 → インストール → 有効化
```

**設定:**
- 有効化するだけでOK（設定画面なし）
- 自動で日本語環境を最適化

**効果:**
- 投稿の抜粋が正しい文字数でカットされる
- 検索機能の精度向上
- 管理画面の日本語表示が改善

---

### 5. WP Super Cache（任意）

**用途:** キャッシュによる高速化

**機能:**
- 静的HTMLファイルを生成してページ表示を高速化
- サーバー負荷軽減
- 大量アクセス時のパフォーマンス向上

**インストール方法:**
```
プラグイン → 新規追加 → 「WP Super Cache」で検索 → インストール → 有効化
```

**初期設定:**
```
設定 → WP Super Cache
↓
「Caching On (Recommended)」を選択
↓
「Update Status」をクリック
```

**注意点:**
- 開発中は無効化推奨（キャッシュで変更が反映されない）
- 本番公開後に有効化

**キャッシュクリア方法:**
```
設定 → WP Super Cache → Delete Cache
```

---

## プラグイン管理のベストプラクティス

### インストール時のチェックポイント

- [ ] 最終更新日が1年以内
- [ ] 有効インストール数が10,000以上
- [ ] WordPressバージョンとの互換性確認
- [ ] 評価が4.0以上

---

### 更新管理

**定期的な更新:**
```
ダッシュボード → 更新
↓
プラグインの更新が表示される
↓
バックアップを取ってから更新
```

**更新前のバックアップ:**
```
All-in-One WP Migration → Export → File
↓
.wpress ファイルを保存
↓
プラグイン更新実行
```

---

### 不要なプラグインは削除

**削除手順:**
```
プラグイン → インストール済みプラグイン
↓
不要なプラグインを「無効化」
↓
「削除」をクリック
```

---

## トラブルシューティング

### プラグインが競合する場合

**手順:**
```
1. すべてのプラグインを無効化
2. 1つずつ有効化してエラーの原因を特定
3. 競合するプラグインを削除または代替プラグインを探す
```

---

### All-in-One WP Migration のアップロード制限

**エラー:** "Maximum upload file size: 2MB"

**解決策（エックスサーバー）:**
```
サーバーパネル → php.ini 設定
↓
upload_max_filesize = 512M
post_max_size = 512M
memory_limit = 512M
↓
設定変更
```

---

### Contact Form 7 のメールが届かない

**確認事項:**
1. WordPress管理画面のメールアドレスが正しいか
2. サーバーのメール送信機能が有効か
3. スパムフォルダに入っていないか

**対策:**
- WP Mail SMTP プラグインを追加
- Gmailのアプリパスワードを使用

---

## プラグイン設定のバックアップ

### エクスポート

```
All-in-One WP Migration → Export
→ プラグイン設定も含めて全てエクスポートされる
```

### 手動でのバックアップ

```
各プラグインの設定画面でスクリーンショットを撮る
→ doc/ フォルダに保存
```

---

## 本番移行時の注意点

### プラグインの再インストール

**方法1: All-in-One WP Migration で移行**
```
ローカルでエクスポート
↓
サーバーでインポート
→ プラグインも全て移行される
```

**方法2: 手動インストール**
```
エックスサーバーのWordPress
↓
各プラグインを再度インストール
↓
設定を手動で再現
```

---

## まとめ

### 最小構成
- All-in-One WP Migration
- Contact Form 7

### 推奨構成
- All-in-One WP Migration
- Contact Form 7
- Yoast SEO
- WP Multibyte Patch

### 本番環境追加
- WP Super Cache（公開後）
- セキュリティプラグイン（必要に応じて）

**プラグインは必要最小限に！**
- パフォーマンス低下を防ぐ
- セキュリティリスクを減らす
- メンテナンスを楽にする
